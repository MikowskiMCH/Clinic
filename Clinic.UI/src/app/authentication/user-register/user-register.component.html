<div class="m-2 p-2 d-flex justify-content-center">
  <mat-card class="card col-md-10">
    <mat-card-header class="d-flex justify-content-center">
      <mat-card-title><h1>Registration</h1></mat-card-title>
    </mat-card-header>
    <div *ngIf="showError" class="alert alert-danger" role="alert">
      <span [innerHTML]="errorMessage"></span>
    </div>
    <form [formGroup]="registerForm" autocomplete="off" (ngSubmit)="registerUser(registerForm.value)">
      <mat-card-content>
        <div class="row justify-content-center">
            <mat-form-field class="col-8">
              <mat-label>First name</mat-label>
              <input matInput formControlName="firstName">
            </mat-form-field>
            <mat-form-field class="col-8">
              <mat-label>Last name</mat-label>
              <input matInput formControlName="lastName">
            </mat-form-field>
            <mat-form-field class="col-8">
              <mat-label>Pesel</mat-label>
              <input matInput maxlength="11" #input formControlName="pesel">
              <mat-hint align="end">{{input.value.length}}/11</mat-hint>
            </mat-form-field>
            <mat-form-field class="col-8">
              <mat-label>Email</mat-label>
              <input matInput formControlName="email">
            </mat-form-field>
            <mat-form-field class="col-8">
              <mat-label>Password</mat-label>
              <input matInput [type]="hide ? 'password' : 'text'" formControlName="password">
              <button type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
            </mat-form-field>
            <mat-form-field class="col-8">
              <mat-label>Confirm password</mat-label>
              <input matInput [type]="hide2 ? 'password' : 'text'" formControlName="passwordConfirm">
              <button type="button" mat-icon-button matSuffix (click)="hide2 = !hide2" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide2">
                <mat-icon>{{hide2 ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <mat-hint *ngIf="validateControl('passwordConfirm') && hasError('passwordConfirm', 'required')">Confirmation is required</mat-hint>
              <mat-hint *ngIf="hasError('passwordConfirm', 'mustMatch')">Passwords must match</mat-hint>
            </mat-form-field>
            <div class="col-8">
              <mat-label>Gender:</mat-label><br>
              <mat-radio-group formControlName="gender">
                <mat-radio-button value=Male>Male</mat-radio-button>
                <mat-radio-button value=Female>Female</mat-radio-button>
                <mat-radio-button value=Other>Other</mat-radio-button>
              </mat-radio-group>
            </div>
            <mat-form-field class="col-8">
              <mat-label>allergies</mat-label>
              <textarea matInput formControlName="allergies"></textarea>
            </mat-form-field>
            <mat-card-actions class=" col-8 d-flex justify-content-center">
              <button mat-raised-button color="primary" type="submit" [disabled]="!registerForm.valid">Register</button>
            </mat-card-actions>
        </div>
      </mat-card-content>
    </form>
  </mat-card>
</div>